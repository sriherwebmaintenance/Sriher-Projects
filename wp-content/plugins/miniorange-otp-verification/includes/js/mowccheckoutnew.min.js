jQuery(document).ready(function(){function e(e){jQuery("#mo_message_wc_pop_up").empty().append("<div class='moloader'></div>").show();var o=$mo("#"+mowcnewcheckout.field).val();$mo.ajax({url:mowcnewcheckout.siteURL,type:"POST",data:{user_phone:o,user_email:o,action:mowcnewcheckout.vaction,security:mowcnewcheckout.nonce,otpType:mowcnewcheckout.otpType,otp_token:e},crossDomain:!0,dataType:"json",success:function(e){jQuery("#mo_message_wc_pop_up").text(e.message),"success"==e.result&&($mo("#popup_wc_mo").hide(),$mo('form[name="checkout"]').submit(),$mo(".wc-block-components-checkout-place-order-button").click())},error:function(e,o,t){}})}"undefined"==typeof $mo&&($mo=jQuery),!function o(){$mo('.wc-block-components-address-form__phone input[type="tel"]').length>0?(function o(){var t="<div class='moloader'></div>";if(mowcnewcheckout.popupEnabled){if($mo(".wc-block-components-checkout-place-order-button").hide(),$mo(".wc-block-components-checkout-place-order-button").after('<button id="miniorange_wc_popup_send_otp_token" class="wp-element-button" type="button">Verify Purchase</button>'),jQuery(".otp-catchy-box").length>0){jQuery(".digit-group input.otp-catchy").each(function(){jQuery(this).attr("maxlength","1")}).on("keyup",function(e){if(jQuery(this).parent(),8===e.keyCode||37===e.keyCode){var o=jQuery(this).data("previous");o&&jQuery("#"+o).select()}else{var t=jQuery(this).data("next");t&&jQuery("#"+t).select()}});var n=document.getElementById("mo_sec_otp_submit_button");n&&(n.onclick=function(){for(var o="",t=1;t<=parseInt(mowcnewcheckout.otp_length_mo);t++)o+=document.querySelector("#digit-"+t).value;jQuery("#mo_otp_token").attr("value",o),e(o)})}else $mo("#miniorange_otp_validate_submit,#mo_sec_otp_submit_button").on("click",function(o){e($mo("#mo_otp_token").val())});$mo("#miniorange_wc_popup_send_otp_token,#mo_otp_verification_resend").on("click",function(e){var o=$mo("[required]"),t=!0;if(o.each(function(){if(!$mo(this).val().trim()&&"mo_otp_token"!=$mo(this).attr("id"))return t=!1,$mo(this).focus(),!1}),t){$mo("#popup_wc_mo").show(),jQuery("#mo_message_wc_pop_up").empty().append("<div class='moloader'></div>").show(),$mo(".mo_customer_validation-login-container").show();var n=$mo("#"+mowcnewcheckout.field).val();$mo.ajax({url:mowcnewcheckout.siteURL,type:"POST",data:{user_phone:n,user_email:n,action:mowcnewcheckout.gaction,security:mowcnewcheckout.nonce,otpType:mowcnewcheckout.otpType},crossDomain:!0,dataType:"json",success:function(e){"success"==e.result?(window.mo_wc_otp_initialized=!0,$mo(".blockUI").hide(),jQuery("#mo_message_wc_pop_up").text(e.message),$mo(".digit-group input[type='text']").val(""),$mo("input[name='order_verify']").val(""),$mo("#popup_wc_mo").show()):(window.mo_wc_otp_initialized=!1,jQuery("#mo_message_wc_pop_up").empty().append(e.message),$mo(".blockUI").hide())},error:function(e,o,t){}}),$mo(".close").on("click",function(e){$mo("#popup_wc_mo").hide()})}else $mo(".wc-block-components-checkout-place-order-button").click()})}else $mo("<input type='button' id='miniorange_otp_token_submit_wc_block_checkout' style='width: 100%; padding: 1em; margin: 2% 0%;' class='components-button wc-block-components-button wp-element-button contained' value='Send OTP'/><div id='mo_message' style='background-color: #f7f6f7; display:none; padding: 1em 2em 1em 3.5em;'></div> <div style='display:none;' id='mo_verify_otp_fields'><div class='wc-block-components-text-input'><input type='text' id='mo_otp_token' aria-label='Enter OTP'/><label for='mo_otp_token'>Enter Verification Code</label></div><input type='button' id='miniorange_verify_otp_token' class='components-button wc-block-components-button wp-element-button contained' style='width: 100%; padding: 1em; margin: 2% 0%;' value='Verify OTP'/></div>").insertAfter($mo("#"+mowcnewcheckout.field).parent().parent()),$mo(document).on("focus","#mo_otp_token",function(){$mo(this).parent().addClass("is-active")}),$mo(document).on("blur","#mo_otp_token",function(){$mo(this).val()||$mo(this).parent().removeClass("is-active")}),$mo("#miniorange_otp_token_submit_wc_block_checkout").on("click",function(){var e=$mo("#"+mowcnewcheckout.field).val(),o=$mo("input[name=phone_verify]"),n=$mo("#mo_message");n.empty(),n.append(t),n.show(),window.verifyOTPmessage=t,$mo.ajax({url:mowcnewcheckout.siteURL,type:"POST",data:{user_phone:e,user_email:e,action:mowcnewcheckout.gaction,security:mowcnewcheckout.nonce,otpType:mowcnewcheckout.otpType},crossDomain:!0,dataType:"json",success:function(e){"success"==e.result?(delete window.verifyOTPmessage,n.empty(),n.append(e.message),n.css({"background-color":"#dbfff7",color:"#008f6e"}),o.focus(),$mo("#mo_verify_otp_fields").show(),$mo("#miniorange_verify_otp_token").show()):(window.verifyOTPmessage=e.message,n.empty(),n.append(e.message),n.css({"background-color":"#ffefef",color:"#ff5b5b"}))},error:function(e,o,t){}})}),$mo("#miniorange_verify_otp_token").on("click",function(){var e=$mo("#"+mowcnewcheckout.field).val(),o=$mo("#mo_otp_token").val(),n=$mo("#mo_message");n.empty(),n.append(t),n.show(),window.verifyOTPmessage=t,$mo.ajax({url:mowcnewcheckout.siteURL,type:"POST",data:{user_phone:e,user_email:e,action:mowcnewcheckout.vaction,security:mowcnewcheckout.nonce,otpType:mowcnewcheckout.otpType,otp_token:o},crossDomain:!0,dataType:"json",success:function(o){var t;"success"==o.result?(delete window.verifyOTPmessage,n.empty(),n.hide(),$mo("#mo_verify_otp_fields").hide(),$mo("#miniorange_verify_otp_token").hide(),$mo("#miniorange_otp_token_submit_wc_block_checkout").val("Verified ✔"),$mo("#mo_otp_token").val(""),t=e,$mo("#"+mowcnewcheckout.field).on("keydown keyup",function(){$mo("#"+mowcnewcheckout.field).val()!==t?$mo("#miniorange_otp_token_submit_wc_block_checkout").val("Send OTP"):$mo("#miniorange_otp_token_submit_wc_block_checkout").val("Verified ✔")})):(window.verifyOTPmessage=o.message,n.empty(),n.append(o.message),n.css({"background-color":"#ffefef",color:"#ff5b5b"}))},error:function(e,o,t){}})})}(),mowcnewcheckout.selectivePaymentEnabled&&function e(){var o=mowcnewcheckout.paymentMethods,t=mowcnewcheckout.selectivePaymentEnabled;function n(){var e=$mo('input[name="radio-control-wc-payment-method-options"]:checked').val(),n=!1;o.hasOwnProperty(e)&&t&&(n=!0),n?($mo("#miniorange_otp_token_submit_wc_block_checkout").show(),mowcnewcheckout.popupEnabled&&($mo("#miniorange_wc_popup_send_otp_token").show(),$mo(".wc-block-components-checkout-place-order-button").hide())):($mo("#miniorange_otp_token_submit_wc_block_checkout").hide(),mowcnewcheckout.popupEnabled&&($mo("#miniorange_wc_popup_send_otp_token").hide(),$mo(".wc-block-components-checkout-place-order-button").show()))}n(),$mo('input[name="radio-control-wc-payment-method-options"]').on("click",function(){n()})}()):setTimeout(o,100)}()});